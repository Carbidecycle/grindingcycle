<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carbide Cycle</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        header {
            background: #333;
            color: #fff;
            padding: 10px 0;
            text-align: center;
        }
        nav ul {
            list-style: none;
            padding: 0;
        }
        nav ul li {
            display: inline;
            margin: 0 15px;
        }
        nav ul li a {
            color: #fff;
            text-decoration: none;
        }
        main {
            padding: 20px;
        }
        .hidden {
            display: none;
        }
        #calculate-button {
            margin-top: 20px;
            padding: 10px 20px;
            background: #007bff;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        #calculate-button.disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        #download-button {
            margin-top: 10px;
            padding: 10px 20px;
            background: #28a745;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        footer {
            background: #333;
            color: #fff;
            text-align: center;
            padding: 10px 0;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>
<body>
    <header>
        <h1>Carbide Cycle</h1>
        <nav>
            <ul>
                <li><a href="#about">About Us</a></li>
                <li><a href="#calculator">Calculator</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="about">
            <h2>About Us</h2>
            <p>Welcome to the Ultimate Grinding Optimization Platform. This project is designed to empower manufacturers, engineers, and researchers to calculate the exact cycle time for grinding operations on tungsten carbide. By leveraging a proven formula and critical grinding parameters, our platform helps optimize the grinding process, reduce costs, and improve overall efficiency.</p>
        </section>

        <section id="calculator">
            <h2>Machining Time Calculator</h2>
            <form id="grinding-form">
                <label for="operation-type">Type of Grinding Operation:</label>
                <select id="operation-type" name="operation-type" required>
                    <option value="">Select...</option>
                    <option value="cylindrical">Cylindrical Grinding</option>
                    <option value="surface">Surface Grinding</option>
                </select>

                <div id="cylindrical-options" class="hidden">
                    <label for="cylindrical-type">Cylindrical Type:</label>
                    <select id="cylindrical-type" name="cylindrical-type">
                        <option value="">Select...</option>
                        <option value="outer">Outer Diameter</option>
                        <option value="inner">Inner Diameter</option>
                        <option value="tapering">Tapering</option>
                    </select>

                    <div id="cylindrical-parameters" class="hidden">
                        <label for="length">Length (mm):</label>
                        <input type="number" id="length" name="length" min="0" required>

                        <label for="major-diameter">Major Diameter (mm):</label>
                        <input type="number" id="major-diameter" name="major-diameter" min="0">

                        <label for="minor-diameter">Minor Diameter (mm):</label>
                        <input type="number" id="minor-diameter" name="minor-diameter" min="0">

                        <label for="wheel-speed">Wheel Speed (rpm):</label>
                        <input type="number" id="wheel-speed" name="wheel-speed" min="0" required>

                        <label for="feed-rate">Feed Rate (mm/min):</label>
                        <input type="number" id="feed-rate" name="feed-rate" min="0" required>

                        <label for="spindle-speed">Spindle Speed (rpm):</label>
                        <input type="number" id="spindle-speed" name="spindle-speed" min="0" required>
                    </div>
                </div>

                <div id="surface-parameters" class="hidden">
                    <label for="surface-length">Length (mm):</label>
                    <input type="number" id="surface-length" name="surface-length" min="0" required>

                    <label for="width">Width (mm):</label>
                    <input type="number" id="width" name="width" min="0" required>

                    <label for="table-speed">Table Speed (rpm):</label>
                    <input type="number" id="table-speed" name="table-speed" min="0" required>

                    <label for="feed-rate-surface">Feed Rate (mm/min):</label>
                    <input type="number" id="feed-rate-surface" name="feed-rate-surface" min="0" required>

                    <label for="depth-of-cut">Depth of Cut (mm):</label>
                    <input type="number" id="depth-of-cut" name="depth-of-cut" min="0" required>
                </div>

                <button type="button" id="calculate-button" class="disabled" onclick="calculateTime()">Know The Time</button>
                <button type="button" id="download-button" class="hidden" onclick="downloadPDF()">Download Result</button>
            </form>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Carbide Cycle</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const operationType = document.getElementById('operation-type');
            const cylindricalOptions = document.getElementById('cylindrical-options');
            const surfaceParameters = document.getElementById('surface-parameters');
            const cylindricalType = document.getElementById('cylindrical-type');
            const cylindricalParameters = document.getElementById('cylindrical-parameters');
            const calculateButton = document.getElementById('calculate-button');
            const downloadButton = document.getElementById('download-button');

            let calculatedTime = '';

            operationType.addEventListener('change', () => {
                if (operationType.value === 'cylindrical') {
                    cylindricalOptions.classList.remove('hidden');
                    surfaceParameters.classList.add('hidden');
                } else if (operationType.value === 'surface') {
                    surfaceParameters.classList.remove('hidden');
                    cylindricalOptions.classList.add('hidden');
                } else {
                    cylindricalOptions.classList.add('hidden');
                    surfaceParameters.classList.add('hidden');
                }
            });

            cylindricalType.addEventListener('change', () => {
                if (cylindricalType.value) {
                    cylindricalParameters.classList.remove('hidden');
                } else {
                    cylindricalParameters.classList.add('hidden');
                }
            });

            calculateButton.addEventListener('click', () => {
                const resultSection = document.createElement('div');
                let result = '';

                if (operationType.value === 'cylindrical' && cylindricalType.value) {
                    const length = parseFloat(document.getElementById('length').value);
                    const majorDiameter = parseFloat(document.getElementById('major-diameter').value);
                    const minorDiameter = parseFloat(document.getElementById('minor-diameter').value);
                    const wheelSpeed = parseFloat(document.getElementById('wheel-speed').value);
                    const feedRate = parseFloat(document.getElementById('feed-rate').value);
                    const spindleSpeed = parseFloat(document.getElementById('spindle-speed').value);

                    if (cylindricalType.value === 'outer' || cylindricalType.value === 'inner') {
                        result = (length * (majorDiameter - minorDiameter)) / (wheelSpeed * feedRate * spindleSpeed);
                    } else if (cylindricalType.value === 'tapering') {
                        result = (length * (majorDiameter + minorDiameter)) / (2 * wheelSpeed * feedRate * spindleSpeed);
                    }
                } else if (operationType.value === 'surface') {
                    const surfaceLength = parseFloat(document.getElementById('surface-length').value);
                    const width = parseFloat(document.getElementById('width').value);
                    const tableSpeed = parseFloat(document.getElementById('table-speed').value);
                    const feedRateSurface = parseFloat(document.getElementById('feed-rate-surface').value);
                    const depthOfCut = parseFloat(document.getElementById('depth-of-cut').value);

                    result = (surfaceLength * width) / (feedRateSurface * tableSpeed * depthOfCut);
                }

                calculatedTime = result.toFixed(2);
                resultSection.innerHTML = `<p>Calculated Time: ${calculatedTime} minutes</p>`;
                document.querySelector('main').appendChild(resultSection);

                // Show download button after calculation
                downloadButton.classList.remove('hidden');
            });
        });

        function downloadPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.text(`Calculated Time: ${calculatedTime} minutes`, 10, 10);
            doc.save('calculation_result.pdf');
        }
    </script>
</body>
</html>
